{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseWalletConnectUri = exports.isWalletConnectSession = void 0;\n\nconst url_1 = require(\"./url\");\n\nfunction isWalletConnectSession(object) {\n  return typeof object.bridge !== \"undefined\";\n}\n\nexports.isWalletConnectSession = isWalletConnectSession;\n\nfunction parseWalletConnectUri(str) {\n  const pathStart = str.indexOf(\":\");\n  const pathEnd = str.indexOf(\"?\") !== -1 ? str.indexOf(\"?\") : undefined;\n  const protocol = str.substring(0, pathStart);\n  const path = str.substring(pathStart + 1, pathEnd);\n\n  function parseRequiredParams(path) {\n    const separator = \"@\";\n    const values = path.split(separator);\n    const requiredParams = {\n      handshakeTopic: values[0],\n      version: parseInt(values[1], 10)\n    };\n    return requiredParams;\n  }\n\n  const requiredParams = parseRequiredParams(path);\n  const queryString = typeof pathEnd !== \"undefined\" ? str.substr(pathEnd) : \"\";\n\n  function parseQueryParams(queryString) {\n    const result = url_1.parseQueryString(queryString);\n    const parameters = {\n      key: result.key || \"\",\n      bridge: result.bridge || \"\"\n    };\n    return parameters;\n  }\n\n  const queryParams = parseQueryParams(queryString);\n  const result = Object.assign(Object.assign({\n    protocol\n  }, requiredParams), queryParams);\n  return result;\n}\n\nexports.parseWalletConnectUri = parseWalletConnectUri;","map":null,"metadata":{},"sourceType":"script"}